package tudbut.mod.client.ttcp.mods.combat;

import java.util.ArrayList;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketConfirmTeleport;
import tudbut.mod.client.ttcp.utils.Module;
import tudbut.mod.client.ttcp.utils.category.Combat;

@Combat
public class PortalInvulnerability
extends Module {
    ArrayList<Packet<?>> toSend = new ArrayList();

    @Override
    public boolean onPacket(Packet<?> packet) {
        if (packet instanceof CPacketConfirmTeleport) {
            this.toSend.add(packet);
            return true;
        }
        return false;
    }

    @Override
    public void onDisable() {
        for (Packet<?> packet : this.toSend) {
            this.player.connection.sendPacket(packet);
        }
    }
}
